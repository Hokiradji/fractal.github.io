<!DOCTYPE html>
<html>
<head>
    <title>Fractal</title>
    <style>
    </style>
</head>
<body>
    <canvas id="cnv" height="200" width="200"></canvas>
    <script>
        let cnv = document.getElementById("cnv");
        let ctx = cnv.getContext('2d');
        let w = cnv.width = window.innerWidth;
        let h = cnv.height = window.innerHeight;
            
        ctx.strokeStyle = '#000';
        ctx.lineWidth = 1;

        var angle = 0;

        let interval = setInterval(update, 15);
                
        function update(){
            ctx.clearRect(0, 0, w, h)
            tree(w / 2, h / 2 + 300, -Math.PI / 2, 400, 9);
            angle += 0.01;
        }
            
        function tree(x, y, dir, l, iteration){
            let x1 = x + Math.cos(dir) * l;
            let y1 = y + Math.sin(dir) * l;
            ctx.beginPath();
            ctx.moveTo(x, y);
            ctx.lineTo(x1, y1);
            ctx.stroke();
            if(iteration > 0){
                tree(x1, y1, dir, l * 0.5, iteration - 1);
                tree(x1, y1, dir + angle, l * 0.5, iteration - 1);
                tree(x1, y1, dir - angle, l * 0.5, iteration - 1);
            }
        }
    </script>
</body>
</html>